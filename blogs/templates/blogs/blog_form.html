{% extends "blogs/base.html" %}
{% load crispy_forms_tags %}
{% block content %}
<div class="content-section">
    <form method="POST" enctype="multipart/form-data">
        {% csrf_token %}
        <fieldset class="form-group">
            <legend class="border-bottom mb-4">
                Create Post
            </legend>
            {{ form.media }}
            {{ form|crispy }}
        </fieldset>
        <div class="form-group">
            <button class="btn btn-outline-info" type="submit">Submit</button>
            {% if object %}
            <!--Used for Update Post. Navigate to Post when user cancels updation.-->
            <a class="btn btn-outline-danger ml-4" href="{% url 'view_post' object.id object.slug %}">Cancel</a>
            {% else %}
            <!--Used for Create Post. Navigate to Index when user cancels creation.-->
            <a class="btn btn-outline-danger ml-4" href="{% url 'index' %}">Cancel</a>
            {% endif %}
        </div>
    </form>
</div>
{% endblock content %}